{
  "name": "@alexandria/infrastructure",
  "private": true,
  "version": "1.0.0",
  "type": "module",
  "scripts": {
    "output": "terraform output -json | jq '{alexandriaUserPoolId: .cognito_user_pool_id.value, alexandriaClientId: .cognito_user_pool_client_id.value, apiEndpoint: .api_endpoint.value}' | tee ../web-client-v2/output.json ../cli/bin/config.json > /dev/null",
    "deploy": "terraform apply -auto-approve && yarn output",
    "invalidate-frontend": "aws cloudfront create-invalidation --path '/*' --distribution-id $(terraform output -raw cloudfront_distribution_id)"
  }
}
